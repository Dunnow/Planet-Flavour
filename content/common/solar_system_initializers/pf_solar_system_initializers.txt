@distance = 50
@base_moon_distance = 10
@jumps = 3


### Zolqhast System
pf_zolqhast_initializer = {
	name = "NAME_pf_Zolqhast"

	class = "sc_g"

	spawn_chance = 250
	usage_odds = {
		base = 100
		modifier = {
			factor = 0
			has_paragon_dlc = no
		}
		modifier = {
			factor = 0
			is_fe_cluster = yes
		}
		modifier = {
			factor = 0
			has_star_flag = empire_cluster
		}
	}

	usage = misc_system_init
	max_instances = 1

	planet = {
		name = "NAME_pf_Zolqhast"
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
	}

	planet = {
		class = "pc_molten"
		orbit_distance = 40
		orbit_angle = 15
		size = 10
		has_ring = no
	}

	planet = {
		class = "pc_toxic"
		orbit_distance = 25
		orbit_angle = 97
		size = 17
		has_ring = no
	}

	planet = {
		class = "pc_barren"
		orbit_distance = 25
		orbit_angle = 128
		size = 13
		has_ring = no
	}

	planet = {
		class = "pc_gas_giant"
		orbit_distance = 40
		orbit_angle = -208
		size = 35
		has_ring = no
		change_orbit = 6

		moon = {
			class = "pc_tropical"
			size = 12
			orbit_distance = 10
			orbit_angle = 110
			has_ring = no

			init_effect = {
				clear_planet_modifiers = yes
				add_modifier = { modifier = pf_pm_multi_planetary_ecosystem }
			}
		}
		moon = {
			class = "pc_tropical"
			size = 15
			orbit_distance = 2.5
			orbit_angle = 190
			has_ring = no

			init_effect = {
				clear_planet_modifiers = yes
				add_modifier = { modifier = pf_pm_multi_planetary_ecosystem }
			}
		}
		moon = {
			class = "pc_tropical"
			size = 10
			orbit_distance = 2.5
			orbit_angle = 80
			has_ring = no

			init_effect = {
				clear_planet_modifiers = yes
				add_modifier = { modifier = pf_pm_multi_planetary_ecosystem }
			}
		}
		moon = {
			class = "pc_frozen"
			size = 7
			orbit_distance = 2.5
			orbit_angle = -155
			has_ring = no
		}
	}

	planet = {
		class = "pc_gas_giant"
		orbit_distance = 25
		orbit_angle = -170
		size = 30
		has_ring = yes
		change_orbit = 7

		moon = {
			class = "pc_frozen"
			size = 8
			orbit_distance = 12
			orbit_angle = 320
			has_ring = no
		}
	}

	planet = {
		class = "pc_gas_giant"
		orbit_distance = 25
		orbit_angle = 195
		size = 20
		has_ring = no
		change_orbit = 4

		moon = {
			class = "pc_frozen"
			size = 6
			orbit_distance = 7
			orbit_angle = 247
			has_ring = no
		}
	}
}

pf_hive_stars_core_initializer = {
	class = "sc_g"

	flags = {
		pf_hive_star_system
		crisis_spawn_exclude
	}

	spawn_chance = 0
	usage_odds = {
		base = 0
	}

	usage = misc_system_init
	max_instances = 1

	init_effect = {
		create_country = {
			name = "NAME_Lost_Swarm"
			type = faction
			flag = {
				icon = {
					category = "domination"
					file = "domination_14.dds"
				}
				background = {
					category = "backgrounds"
					file = "00_solid.dds"
				}
				colors = {
					"black"
					"black"
					"null"
					"null"
				}
			}
			effect = {
				set_graphical_culture = swarm_01
				set_country_flag = pf_straggler_swarms
				save_global_event_target_as = pf_straggler_swarms_country
			}
		}

		set_spawn_system_batch = begin
		spawn_system = {
			min_distance >= 15
			max_distance <= 30
			#initializer = the_chosen_resources_initializer
			initializer = random
			hyperlane = no

			effect = {
				set_star_flag = pf_hive_star_system
				set_star_flag = crisis_spawn_exclude
				add_hyperlane = {
					from = this
					to = prev
				}
				save_event_target_as = first_neighbor
			}
		}
		while = {
			count = 3
			spawn_system = {
				min_distance >= 10
				max_distance <= 25
				initializer = random
				hyperlane = no
				effect = {
					set_star_flag = pf_hive_star_system
					set_star_flag = crisis_spawn_exclude
					add_hyperlane = {
						from = this
						to = prev
					}
					add_hyperlane = {
						from = this
						to = event_target:first_neighbor
					}
				}
			}
		}
		set_spawn_system_batch = end
	}

	planet = {
		#name = "NAME_pf_Zolqhast"
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
	}

	planet = {
		class = "pc_molten"
		orbit_distance = 40
		orbit_angle = 15
		size = 10
		has_ring = no
	}

	planet = {
		class = "pc_barren"
		orbit_distance = 50
		orbit_angle = 200
		size = 13
		has_ring = no
	}

	planet = {
		class = "pc_hive"
		orbit_distance = 60
		orbit_angle = 75
		size = 16
		has_ring = yes
		init_effect = {
		}
	}
}